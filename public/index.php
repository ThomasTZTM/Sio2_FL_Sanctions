<?php
//////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////// CONFIGURATION //////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////
?>



<?php
// Recupérer l'entityManager
$entityManager = require_once __DIR__ . '/../config/bootstrap.php';
?>


<?php
//////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////// LA SESSION ///////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////
?>

<?php
//////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////// LE ROUTING ///////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////
?>

<div class="container">
    <?php
    // Mise en place du routing
    $route = $_GET['route'] ?? 'acceuil';
    // Tester la valeur de $route
    switch ($route) {

        case 'acceuil':
            $acceuilController = new \App\Controllers\AcceuilController();
            $acceuilController->acceuil();
            break;

        case 'mentionlegal':
            $acceuilController = new \App\Controllers\MentionLegalController();
            $acceuilController->mention();
            break;

        case 'creercompte':
            $acceuilController = new \App\Controllers\ConnexionController($entityManager);
            $acceuilController->creer();
            break;

        default:
            // Erreur 404
            echo "❗​ Erreur 404 : Page non trouvé";
            break;
    }
    ?>



</div>
<?php
//////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////// FIN /////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////
?>

</body>
</html>
